import{j as n,o as r,b as e,p as L,g as J,k as w,i as g,t as d,n as M,y as U,f as C,F as k,q as _,s as S,c as z,x as H,P as q,m as $,C as P,J as j,d as h,Q as V,M as T,K as F,e as D,a as O,z as A}from"./app-BOu0P6go.js";import{A as I}from"./aos-YzgBcDfi.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as K}from"./CurrencyDollarIcon-0U282Hjv.js";import{r as G}from"./CheckCircleIcon-CU8H0r1u.js";function R(a,v){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"})])}function Q(a,v){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}function W(a,v){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})])}function X(a,v){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})])}const Y={class:"bg-white rounded-xl shadow-xl overflow-hidden w-full border border-gray-100 transform transition-all duration-300 hover:shadow-2xl"},ee={class:"flex justify-between items-start p-6 border-b border-gray-200 bg-gradient-to-r from-primary/95 to-primary-dark/95","data-aos":"fade-down"},te={class:"text-2xl font-bold text-white"},oe={class:"mt-2"},se={class:"p-6 grid grid-cols-1 md:grid-cols-2 gap-8","data-aos":"fade-up","data-aos-delay":"100"},le={class:"space-y-6"},ae={class:"space-y-4"},re={class:"flex justify-between items-center py-2 px-3 rounded-lg hover:bg-gray-50 transition-colors"},ne={class:"text-sm text-gray-600"},ie={class:"font-medium text-gray-900"},de={class:"space-y-6"},ue={class:"space-y-4"},ce={class:"py-2 px-3 rounded-lg hover:bg-gray-50 transition-colors"},me={class:"font-medium text-gray-900"},pe={class:"text-sm text-gray-600 mt-1"},be={class:"flex items-center space-x-3 py-2 px-3 rounded-lg hover:bg-gray-50 transition-colors"},ge={class:"text-gray-400"},ve={class:"text-sm text-gray-600 flex-1"},fe={class:"font-medium text-gray-900"},xe={class:"px-6 pb-6","data-aos":"fade-up","data-aos-delay":"200"},he={class:"bg-gray-50 p-4 rounded-lg border border-gray-100 transition-all duration-300 hover:border-primary/30"},ye={class:"whitespace-pre-line text-gray-700"},we={key:0,class:"border-t border-gray-200 pt-6 px-6 pb-6","data-aos":"fade-up","data-aos-delay":"300"},ke={class:"space-y-6"},_e=["data-aos-delay"],je={class:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm hover:shadow-md transition-all"},Ce={class:"flex flex-col sm:flex-row sm:items-baseline sm:justify-between gap-2"},$e={class:"text-sm font-medium text-gray-900 capitalize"},Je={class:"text-xs text-gray-500"},Me={key:0,class:"mt-3 bg-gray-50 p-3 rounded-lg overflow-hidden transition-all duration-300 max-h-0 group-hover:max-h-96"},Ve={class:"text-gray-500 col-span-1"},Ee={class:"font-medium text-gray-800 col-span-2"},Be={__name:"ViewJob",props:{selectedJob:Object,fullPage:Boolean},emits:["closeModal"],setup(a,{emit:v}){const l=a,f=v;L(()=>{I.init({once:!0,duration:600,easing:"ease-out-cubic"})});const o=J(()=>({"bg-green-100 text-green-800":l.selectedJob.status==="completed","bg-blue-100 text-blue-800":l.selectedJob.status==="in_progress","bg-yellow-100 text-yellow-800":l.selectedJob.status==="pending","bg-gray-100 text-gray-800":!l.selectedJob.status,"shadow-green-200":l.selectedJob.status==="completed","shadow-blue-200":l.selectedJob.status==="in_progress","shadow-yellow-200":l.selectedJob.status==="pending","shadow-gray-200":!l.selectedJob.status})),c=J(()=>[{label:"Amount",value:p(l.selectedJob.amount),icon:K},{label:"Due Date",value:l.selectedJob.due_date?u(l.selectedJob.due_date):"Not set",icon:R},{label:"Completed",value:l.selectedJob.completed_at?x(l.selectedJob.completed_at):"Not completed",icon:G},{label:"Satisfaction",value:l.selectedJob.satisfaction_score?`${l.selectedJob.satisfaction_score}/5`:"Not rated",icon:X}].filter(s=>s.value!==void 0));J(()=>[{label:"Phone",value:l.selectedJob.customer.phone,icon:W},{label:"Address",value:l.selectedJob.customer.address,icon:Q}].filter(s=>s.value));const p=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"NGN"}).format(s),x=s=>new Date(s).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),m=s=>s.split("_").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" "),t=()=>{f("closeModal")};return(s,i)=>{var E;return r(),n("div",Y,[e("div",ee,[e("div",null,[e("h2",te,d(a.selectedJob.job_title),1),e("div",oe,[e("span",{class:M([o.value,"text-xs font-medium px-3 py-1 rounded-full shadow-sm transform transition-all hover:scale-105"])},d(a.selectedJob.status),3)])]),g(e("button",{onClick:t,class:"p-2 rounded-full hover:bg-white/20 transition-all duration-200 text-white hover:rotate-90","aria-label":"Close"},i[0]||(i[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),512),[[U,!a.fullPage]])]),e("div",se,[e("div",le,[i[2]||(i[2]=e("h3",{class:"text-sm font-semibold uppercase tracking-wider text-primary-dark flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),C(" Job Details ")],-1)),e("div",ae,[(r(!0),n(k,null,_(c.value,(b,y)=>(r(),n("div",{key:y,class:"animate-detail",style:S({"--delay":`${y*50}ms`})},[e("div",re,[e("span",ne,d(b.label),1),e("span",ie,d(b.value),1)]),i[1]||(i[1]=e("hr",{class:"border-gray-100"},null,-1))],4))),128))])]),e("div",de,[i[4]||(i[4]=e("h3",{class:"text-sm font-semibold uppercase tracking-wider text-primary-dark flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),C(" Customer ")],-1)),e("div",ue,[e("div",ce,[e("p",me,d(a.selectedJob.customer.name),1),e("p",pe,d(a.selectedJob.customer.company),1)]),s.item?(r(!0),n(k,{key:0},_(a.selectedJob.customerDetails,(b,y)=>(r(),n("div",{key:"customer-"+y,class:"animate-detail",style:S({"--delay":`${y*50+100}ms`})},[e("div",be,[e("div",ge,[(r(),z(H(b.icon),{class:"h-4 w-4"}))]),e("span",ve,d(b.label),1),e("span",fe,d(b.value),1)]),i[3]||(i[3]=e("hr",{class:"border-gray-100"},null,-1))],4))),128)):w("",!0)])])]),e("div",xe,[i[5]||(i[5]=e("h3",{class:"text-sm font-semibold uppercase tracking-wider text-primary-dark mb-3 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),C(" Description ")],-1)),e("div",he,[e("p",ye,d(a.selectedJob.description||"No description provided"),1)])]),(E=a.selectedJob.activities)!=null&&E.length?(r(),n("div",we,[i[8]||(i[8]=e("h3",{class:"text-sm font-semibold uppercase tracking-wider text-primary-dark mb-4 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),C(" Activity Log ")],-1)),e("div",ke,[(r(!0),n(k,null,_(a.selectedJob.activities,(b,y)=>(r(),n("div",{key:b.id,class:"relative pl-8 group","data-aos":"fade-up","data-aos-delay":300+y*50},[i[6]||(i[6]=e("div",{class:"absolute left-0 top-1 h-full w-0.5 bg-gray-200 group-hover:bg-primary transition-colors","aria-hidden":"true"},null,-1)),i[7]||(i[7]=e("div",{class:"absolute left-0 top-1 flex h-4 w-4 items-center justify-center rounded-full bg-gray-200 group-hover:bg-primary transition-all transform group-hover:scale-125"},[e("div",{class:"h-2 w-2 rounded-full bg-white transition-all"})],-1)),e("div",je,[e("div",Ce,[e("p",$e,d(m(b.type)),1),e("p",Je,d(x(b.created_at)),1)]),b.changes?(r(),n("div",Me,[(r(!0),n(k,null,_(JSON.parse(b.changes),(Z,B)=>(r(),n("div",{key:B,class:"text-sm grid grid-cols-3 gap-2 py-1"},[e("span",Ve,d(B)+":",1),e("span",Ee,d(Z),1)]))),128))])):w("",!0)])],8,_e))),128))])])):w("",!0)])}}},jt=N(Be,[["__scopeId","data-v-730edb86"]]),Se={class:"mb-6 space-y-6"},De={class:"grid grid-cols-2 gap-4 mb-6"},Ae=["disabled"],Pe=["disabled"],Ne={class:"flex justify-end w-full mt-2"},Ze={class:"flex space-x-4"},Le=["onClick"],Ue={class:"text-2xl"},ze={class:"text-xs"},He={__name:"CompletedExtras",props:{modelValue:{type:Object,default:()=>({amount_paid:0,satisfaction:""})}},emits:["update:modelValue"],setup(a,{emit:v}){const l=a,f=v,o=q({...l.modelValue}),c=[{value:1,emoji:"ðŸ˜ž",label:"Poor"},{value:2,emoji:"ðŸ™",label:"Fair"},{value:3,emoji:"ðŸ˜",label:"Good"},{value:4,emoji:"ðŸ™‚",label:"Very Good"},{value:5,emoji:"ðŸ˜",label:"Excellent"}];let p=$(!1);return P(o,x=>{f("update:modelValue",x)},{deep:!0}),(x,u)=>(r(),n("div",Se,[e("div",null,[e("div",De,[e("div",null,[u[3]||(u[3]=e("label",{class:"block text-sm font-medium text-primary-dark mb-2"},"Amount Paid",-1)),g(e("input",{"onUpdate:modelValue":u[0]||(u[0]=m=>o.amount_paid=m),type:"number",min:"0",step:"0.01",class:M(["w-full border border-tertiary-dark rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-light focus:border-primary-light",h(p)?"bg-gray-300":""]),placeholder:"0.00",disabled:h(p)},null,10,Ae),[[j,o.amount_paid]])]),e("div",null,[u[5]||(u[5]=e("label",{class:"block text-sm font-medium text-primary-dark mb-2"},"Payment Method",-1)),g(e("select",{"onUpdate:modelValue":u[1]||(u[1]=m=>o.payment_method=m),class:"w-full border border-tertiary-dark rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-light focus:border-primary-light",disabled:h(p)},u[4]||(u[4]=[T('<option disabled value="">Select method</option><option value="cash">Cash</option><option value="bank_transfer">Bank Transfer</option><option value="card">Card</option><option value="other">Other</option>',5)]),8,Pe),[[V,o.payment_method]])])]),e("div",Ne,[e("button",{type:"button",onClick:u[2]||(u[2]=m=>{o.amount_paid=0,F(p)?p.value=!h(p):p=!h(p)}),class:"text-red-600 text-sm font-medium hover:underline"},d(h(p)?"Paid":"Not yet"),1)])]),e("div",null,[u[6]||(u[6]=e("label",{class:"block text-sm font-medium text-primary-dark mb-2"},"Satisfaction Score",-1)),e("div",Ze,[(r(),n(k,null,_(c,m=>e("button",{key:m.value,type:"button",onClick:t=>o.satisfaction=m.value,class:M(["flex flex-col items-center p-1 rounded-lg border cursor-pointer",o.satisfaction===m.value?"border-primary-light bg-primary-light/10":"border-tertiary-dark"])},[e("span",Ue,d(m.emoji),1),e("span",ze,d(m.label),1)],10,Le)),64))])])]))}},qe={class:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-hidden flex flex-col transform transition-all duration-300 scale-100 opacity-100"},Te={class:"sticky top-0 bg-white px-6 py-4 border-b border-gray-100 flex justify-between items-center"},Fe={class:"text-xl font-bold text-gray-900"},Oe={class:"overflow-y-auto flex-1 px-6 py-5"},Ie={class:"space-y-4"},Ke={class:"grid grid-cols-1 gap-4"},Ge={key:0,class:"relative"},Re={key:1,class:"relative"},Qe=["value"],We={class:"space-y-4"},Xe={class:"grid grid-cols-1 gap-4"},Ye={class:"space-y-4"},et={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},tt={class:"relative"},ot={class:"relative"},st={key:0,class:"bg-blue-50 p-4 rounded-lg border border-blue-100 text-sm text-gray-700 grid grid-cols-2 gap-3"},lt={class:"space-y-1"},at={class:"font-semibold text-lg text-gray-800"},rt={class:"space-y-1"},nt={class:"font-semibold text-lg text-blue-600"},it={key:0,class:"space-y-4"},dt={class:"space-y-4"},ut={class:"grid grid-cols-1 gap-4"},ct={class:"relative"},mt={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4 mt-4"},pt={class:"flex items-start"},bt={class:"ml-3"},gt={class:"mt-2 text-sm text-red-700"},vt={class:"list-disc pl-5 space-y-1"},ft={class:"sticky bottom-0 bg-white px-6 py-4 border-t border-gray-200 flex justify-end space-x-3"},xt={__name:"CreateJob",props:{showModal:Boolean,customer:Object,isEditingJob:Boolean,jobToEdit:Object,allCustomers:Array,amountPaid:Number},emits:["close","submit"],setup(a,{emit:v}){const l=a,f=v,o=$({});let c=$([]),p=$(0);const x=()=>{o.value={customer_id:l.customer.id,job_title:"",description:"",status:"pending",amount:null,due_date:"",completedExtras:{amount_paid:null,satisfaction:"",payment_method:"banK_transfer"}},f("close")};P(()=>l.isEditingJob,m=>{m?(o.value={...l.jobToEdit},p.value=o.value.amount-l.amountPaid):o.value={customer_id:l.customer.id,job_title:"",description:"",status:"pending",amount:null,due_date:"",completedExtras:{amount_paid:null,satisfaction:"",payment_method:"banK_transfer"}}},{immediate:!0});const u=()=>{let m=o.value;console.log(o.value.completedExtras),c.value=[],o.value.customer_id||c.value.push("Customer is required"),o.value.job_title||c.value.push("Job title is required"),o.value.status||c.value.push("Status is required"),!o.value.amount&&o.value.amount!==0&&c.value.push("Amount is required"),o.value.due_date||c.value.push("Due date is required"),o.value.status==="completed"&&((o.value.completedExtras.amount_paid===null||o.value.completedExtras.amount_paid===void 0)&&c.value.push("Amount paid is required"),o.value.completedExtras.satisfaction||c.value.push("Satisfaction score is required"),o.value.completedExtras.payment_method||c.value.push("Payment method is required"),o.value.completedExtras.amount_paid>o.value.amount&&c.value.push("Amount paid cannot be greater than job amount"),l.isEditingJob&&o.value.completedExtras.amount_paid>p.value&&c.value.push("Amount paid cannot be greater than remaining Balance")),!c.value.length&&(l.isEditingJob?A.patch(`/update_job/${l.jobToEdit.id}`,m).then(t=>{f("submit",{payload:t.data.jobs}),f("close"),o.value={customer_id:l.customer.id,job_title:"",description:"",status:"pending",amount:null,due_date:"",completedExtras:{amount_paid:null,satisfaction:"",payment_method:"banK_transfer"}}}):A.post("/store_job",m).then(t=>{f("submit",{payload:t.data.jobs}),f("close"),o.value={customer_id:l.customer.id,job_title:"",description:"",status:"pending",amount:null,due_date:"",completedExtras:{amount_paid:null,satisfaction:"",payment_method:"banK_transfer"}}}).catch(t=>{alert(t.message)}))};return(m,t)=>a.showModal?(r(),n("div",{key:0,class:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-all duration-300",onClick:D(x,["self"])},[e("div",qe,[e("div",Te,[e("div",null,[e("h2",Fe,d(a.isEditingJob?"Edit Job":"Create New Job"),1),t[8]||(t[8]=e("p",{class:"text-sm text-gray-500 mt-1"},"Fill in the job details below",-1))]),e("button",{onClick:x,class:"text-gray-400 hover:text-gray-600 transition-colors duration-200 rounded-full p-1 hover:bg-gray-100","aria-label":"Close modal"},t[9]||(t[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Oe,[e("form",{onSubmit:D(u,["prevent"]),class:"space-y-6"},[e("section",Ie,[t[14]||(t[14]=e("h3",{class:"text-lg font-semibold text-gray-800 border-b pb-2"},"Customer Information",-1)),e("div",Ke,[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[C("Customer "),e("span",{class:"text-red-500"},"*")],-1)),a.customer&&Object.keys(a.customer).length?(r(),n("div",Ge,[g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>a.customer.name=s),type:"text",disabled:"",class:"w-full border border-gray-200 rounded-lg px-4 py-3 bg-gray-50 text-gray-600 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200"},null,512),[[j,a.customer.name]]),t[10]||(t[10]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1))])):(r(),n("div",Re,[g(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.value.customer_id=s),class:"w-full border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 appearance-none"},[t[11]||(t[11]=e("option",{disabled:"",value:""},"Select a customer",-1)),(r(!0),n(k,null,_(a.allCustomers,s=>(r(),n("option",{key:s.id,value:s.id},d(s.name),9,Qe))),128))],512),[[V,o.value.customer_id]]),t[12]||(t[12]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})])],-1))]))])])]),e("section",We,[t[17]||(t[17]=e("h3",{class:"text-lg font-semibold text-gray-800 border-b pb-2"},"Job Details",-1)),e("div",Xe,[e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[C("Job Title "),e("span",{class:"text-red-500"},"*")],-1)),g(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.value.job_title=s),type:"text",required:"",class:"w-full border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"e.g., Website Redesign, Logo Creation"},null,512),[[j,o.value.job_title]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),g(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.value.description=s),rows:"3",class:"w-full border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Describe the job requirements, deliverables, and any special instructions..."},null,512),[[j,o.value.description]])])])]),e("section",Ye,[t[25]||(t[25]=e("h3",{class:"text-lg font-semibold text-gray-800 border-b pb-2"},"Status & Financials",-1)),e("div",et,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),e("div",tt,[g(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.value.status=s),class:"w-full border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 appearance-none"},t[18]||(t[18]=[e("option",{value:"pending"},"Pending",-1),e("option",{value:"in_progress"},"In Progress",-1),e("option",{value:"cancelled"},"Cancelled",-1),e("option",{value:"completed"},"Completed",-1)]),512),[[V,o.value.status]]),t[19]||(t[19]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})])],-1))])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Amount (â‚¦)",-1)),e("div",ot,[t[21]||(t[21]=e("span",{class:"absolute left-3 top-3 text-gray-500"},"â‚¦",-1)),g(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>o.value.amount=s),type:"number",min:"0",step:"0.01",class:"w-full border border-gray-200 rounded-lg pl-8 pr-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"0.00"},null,512),[[j,o.value.amount]])])])]),a.isEditingJob?(r(),n("div",st,[e("div",lt,[t[23]||(t[23]=e("p",{class:"text-gray-500"},"Previous Payment:",-1)),e("p",at,d(a.amountPaid),1)]),e("div",rt,[t[24]||(t[24]=e("p",{class:"text-gray-500"},"Balance:",-1)),e("p",nt,d(h(p)),1)])])):w("",!0)]),o.value.status==="completed"?(r(),n("section",it,[t[26]||(t[26]=e("h3",{class:"text-lg font-semibold text-gray-800 border-b pb-2"},"Completed Extras",-1)),O(He,{isEditingJob:a.isEditingJob,modelValue:o.value.completedExtras,"onUpdate:modelValue":t[6]||(t[6]=s=>o.value.completedExtras=s)},null,8,["isEditingJob","modelValue"])])):w("",!0),e("section",dt,[t[29]||(t[29]=e("h3",{class:"text-lg font-semibold text-gray-800 border-b pb-2"},"Timeline",-1)),e("div",ut,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Delivery Date",-1)),e("div",ct,[g(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>o.value.due_date=s),type:"date",class:"w-full border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"},null,512),[[j,o.value.due_date]]),t[27]||(t[27]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1))])])])]),h(c).length?(r(),n("div",mt,[e("div",pt,[t[31]||(t[31]=e("div",{class:"flex-shrink-0"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),e("div",bt,[t[30]||(t[30]=e("h3",{class:"text-sm font-medium text-red-800"},"Please correct the following errors:",-1)),e("div",gt,[e("ul",vt,[(r(!0),n(k,null,_(h(c),(s,i)=>(r(),n("li",{key:i},d(s),1))),128))])])])])])):w("",!0)],32)]),e("div",ft,[e("button",{type:"button",onClick:x,class:"px-5 py-2.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors duration-200"}," Cancel "),e("button",{type:"submit",onClick:u,class:"px-5 py-2.5 rounded-lg text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-sm transition-all duration-200 transform hover:-translate-y-0.5"},d(a.isEditingJob?"Update Job":"Create Job"),1)])])])):w("",!0)}},Ct=N(xt,[["__scopeId","data-v-7f5ba3ec"]]);export{Ct as C,jt as V,X as r};
