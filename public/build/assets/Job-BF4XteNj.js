import{_ as w}from"./AuthenticatedLayout-9PPnsSbA.js";import{C as p,V as h}from"./CreateJob-BC4hEzTj.js";import{m as s,c as g,o as y,w as k,a as u,b as e,d as a,h as j,f as m,z as J}from"./app-BijfT9Au.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./aos-j3j6ULMc.js";import"./CreateInvoiceModal-tePBB5gF.js";import"./CurrencyDollarIcon-Dj1F9UJ9.js";import"./CheckCircleIcon-Dkcm34Ao.js";const C={class:"min-h-screen"},E={class:"max-w-7xl mx-auto"},M={class:"flex space-x-4 justify-end"},V={class:"rounded-xl overflow-hidden shadow-lg transition-all duration-300",style:{border:"1px solid var(--tertiary)",backgroundColor:"white"}},D={__name:"Job",props:{job:Object},setup(r){const c=s(!0),i=s(!1);let l=s({}),n=s({}),d=s(!1);const b=o=>{l.value=o,n.value=l.value.customer,i.value=!0,d.value=!0},v=()=>{l.value={},n.value={},i.value=!1,d.value=!1},f=o=>{confirm(`Are you sure you want to delete "${o.job_title}"?`)&&J.delete(`/job_delete/${o.id}`).then(t=>{t.status===200&&(alert(t.data.message),window.history.back())}).catch(t=>{console.error("Error deleting job:",t),alert("Failed to delete job. Please try again.")})};return(o,t)=>(y(),g(w,null,{default:k(()=>[u(p,{showModal:a(d),customer:a(n),isEditingJob:i.value,jobToEdit:a(l),onClose:v},null,8,["showModal","customer","isEditingJob","jobToEdit"]),u(a(j),{title:"Jobs"}),e("div",C,[t[4]||(t[4]=e("div",{class:""},[e("div",{class:"max-w-7xl mx-auto flex justify-between items-center"},[e("h1",{class:"text-2xl font-bold text-primary-dark"},"Job Details")])],-1)),e("div",E,[e("div",M,[e("button",{onClick:t[0]||(t[0]=x=>b(r.job)),class:"px-6 py-2 rounded-md font-medium transition-all flex items-center",style:{backgroundColor:"transparent",color:"var(--primary)",border:"2px solid var(--primary)"}},t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),m(" Edit Job ",-1)])),e("button",{onClick:t[1]||(t[1]=x=>f(r.job)),class:"px-6 py-2 rounded-md font-medium transition-all text-red-500 flex items-center"},t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M3 6h18"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),e("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),e("line",{x1:"14",y1:"11",x2:"14",y2:"17"})],-1),m(" Delete ",-1)]))]),e("div",V,[u(h,{selectedJob:r.job,fullPage:c.value},null,8,["selectedJob","fullPage"])])])])]),_:1}))}};export{D as default};
