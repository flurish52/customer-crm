import{A as z}from"./aos-BT6IAh_v.js";import{r as S,a as V,b as L,c as A,C as I}from"./CreateInvoiceModal-DWbsB4sO.js";import{_ as F}from"./AuthenticatedLayout-BR9VpTxd.js";import{p as U,g as b,m as H,c as y,o as r,w as O,a as x,j as n,k as u,b as e,d as w,h as T,H as _,t as l,n as E,f as m,F as p,q as g,s as k,x as G,E as P}from"./app-BfhD020g.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as R}from"./CurrencyDollarIcon-jWFwWJwj.js";import{r as K}from"./CheckCircleIcon-Zw_ibW06.js";const Q={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},W={class:"relative bg-white rounded-lg shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto z-10 p-6"},X={class:"bg-white rounded-xl shadow-xl overflow-hidden w-full border border-gray-100 transform transition-all duration-300 hover:shadow-2xl"},Y={class:"flex justify-between items-start p-6 border-b border-gray-200 bg-gradient-to-r from-primary/95 to-primary-dark/95","data-aos":"fade-down"},Z={class:"text-2xl font-bold text-white"},ee={class:"mt-2"},te={class:"p-6 grid grid-cols-1 md:grid-cols-2 gap-8","data-aos":"fade-up","data-aos-delay":"100"},se={class:"space-y-6"},oe={class:"space-y-4"},ae={class:"flex justify-between items-center py-2 px-3 rounded-lg hover:bg-gray-50 transition-colors"},re={class:"text-sm text-gray-600"},le={class:"font-medium text-gray-900"},ne={class:"space-y-6"},de={class:"space-y-4"},ie={class:"py-2 px-3 rounded-lg hover:bg-gray-50 transition-colors"},ce={class:"font-medium text-gray-900"},ue={class:"text-sm text-gray-600 mt-1"},me={class:"flex items-center space-x-3 py-2 px-3 rounded-lg hover:bg-gray-50 transition-colors"},pe={class:"text-gray-400"},ge={class:"text-sm text-gray-600 flex-1"},be={class:"font-medium text-gray-900"},he={class:"px-6 pb-6","data-aos":"fade-up","data-aos-delay":"200"},ve={class:"bg-gray-50 p-4 rounded-lg border border-gray-100 transition-all duration-300 hover:border-primary/30"},fe={class:"whitespace-pre-line text-gray-700"},ye={key:0,class:"border-t border-gray-200 pt-6 px-6 pb-6","data-aos":"fade-up","data-aos-delay":"300"},xe={class:"space-y-6"},we=["data-aos-delay"],_e={class:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm hover:shadow-md transition-all"},ke={class:"flex flex-col sm:flex-row sm:items-baseline sm:justify-between gap-2"},Je={class:"text-sm font-medium text-gray-900 capitalize"},Ce={class:"text-xs text-gray-500"},je={key:0,class:"mt-3 bg-gray-50 p-3 rounded-lg overflow-hidden transition-all duration-300 max-h-0 group-hover:max-h-96"},De={class:"text-gray-500 col-span-1"},Me={class:"font-medium text-gray-800 col-span-2"},Ne={__name:"View",props:{selectedJob:Object,fullPage:Boolean},emits:["closeModal"],setup(d,{emit:Be}){const s=d;U(()=>{z.init({once:!0,duration:600,easing:"ease-out-cubic"})});const J=b(()=>({"bg-green-100 text-green-800":s.selectedJob.status==="completed","bg-blue-100 text-blue-800":s.selectedJob.status==="in_progress","bg-yellow-100 text-yellow-800":s.selectedJob.status==="pending","bg-gray-100 text-gray-800":!s.selectedJob.status,"shadow-green-200":s.selectedJob.status==="completed","shadow-blue-200":s.selectedJob.status==="in_progress","shadow-yellow-200":s.selectedJob.status==="pending","shadow-gray-200":!s.selectedJob.status})),C=b(()=>[{label:"Amount",value:j(s.selectedJob.amount),icon:R},{label:"Due Date",value:s.selectedJob.due_date?D(s.selectedJob.due_date):"Not set",icon:S},{label:"Completed",value:s.selectedJob.completed_at?h(s.selectedJob.completed_at):"Not completed",icon:K},{label:"Satisfaction",value:s.selectedJob.satisfaction_score?`${s.selectedJob.satisfaction_score}/5`:"Not rated",icon:V}].filter(a=>a.value!==void 0));b(()=>[{label:"Phone",value:s.selectedJob.customer.phone,icon:L},{label:"Address",value:s.selectedJob.customer.address,icon:A}].filter(a=>a.value));const j=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"NGN"}).format(a),h=a=>new Date(a).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),M=a=>a.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ");let i=H(!1);const N=()=>{i.value=!0},B=()=>{P.back()};return(a,t)=>(r(),y(F,null,{default:O(()=>{var v;return[x(w(T),{title:"Job"}),w(i)?(r(),n("div",Q,[e("div",{class:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:t[0]||(t[0]=o=>_(i)?i.value=!1:i=!1)}),e("div",W,[e("button",{onClick:t[1]||(t[1]=o=>_(i)?i.value=!1:i=!1),class:"absolute top-3 right-3 text-gray-500 hover:text-gray-700 font-bold text-lg"},"Ã— "),x(I,{selectedJob:d.selectedJob.id},null,8,["selectedJob"])])])):u("",!0),e("div",X,[e("div",Y,[e("div",null,[e("h2",Z,l(d.selectedJob.job_title),1),e("div",ee,[e("span",{class:E([J.value,"text-xs font-medium px-3 py-1 rounded-full shadow-sm transform transition-all hover:scale-105"])},l(d.selectedJob.status),3)])]),e("button",{onClick:B,class:"p-2 rounded-full hover:bg-white/20 transition-all duration-200 text-white hover:rotate-90","aria-label":"Close"},t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]))]),e("div",te,[e("div",se,[t[4]||(t[4]=e("h3",{class:"text-sm font-semibold uppercase tracking-wider text-primary-dark flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),m(" Job Details ")],-1)),e("div",oe,[(r(!0),n(p,null,g(C.value,(o,c)=>(r(),n("div",{key:c,class:"animate-detail",style:k({"--delay":`${c*50}ms`})},[e("div",ae,[e("span",re,l(o.label),1),e("span",le,l(o.value),1)]),t[3]||(t[3]=e("hr",{class:"border-gray-100"},null,-1))],4))),128))])]),e("div",ne,[t[6]||(t[6]=e("h3",{class:"text-sm font-semibold uppercase tracking-wider text-primary-dark flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),m(" Customer ")],-1)),e("div",de,[e("div",ie,[e("p",ce,l(d.selectedJob.customer.name),1),e("p",ue,l(d.selectedJob.customer.company),1)]),a.item?(r(!0),n(p,{key:0},g(d.selectedJob.customerDetails,(o,c)=>(r(),n("div",{key:"customer-"+c,class:"animate-detail",style:k({"--delay":`${c*50+100}ms`})},[e("div",me,[e("div",pe,[(r(),y(G(o.icon),{class:"h-4 w-4"}))]),e("span",ge,l(o.label),1),e("span",be,l(o.value),1)]),t[5]||(t[5]=e("hr",{class:"border-gray-100"},null,-1))],4))),128)):u("",!0)])])]),e("div",he,[t[7]||(t[7]=e("h3",{class:"text-sm font-semibold uppercase tracking-wider text-primary-dark mb-3 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),m(" Description ")],-1)),e("div",ve,[e("p",fe,l(d.selectedJob.description||"No description provided"),1)])]),(v=d.selectedJob.activities)!=null&&v.length?(r(),n("div",ye,[t[10]||(t[10]=e("h3",{class:"text-sm font-semibold uppercase tracking-wider text-primary-dark mb-4 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),m(" Activity Log ")],-1)),e("div",xe,[(r(!0),n(p,null,g(d.selectedJob.activities,(o,c)=>(r(),n("div",{key:o.id,class:"relative pl-8 group","data-aos":"fade-up","data-aos-delay":300+c*50},[t[8]||(t[8]=e("div",{class:"absolute left-0 top-1 h-full w-0.5 bg-gray-200 group-hover:bg-primary transition-colors","aria-hidden":"true"},null,-1)),t[9]||(t[9]=e("div",{class:"absolute left-0 top-1 flex h-4 w-4 items-center justify-center rounded-full bg-gray-200 group-hover:bg-primary transition-all transform group-hover:scale-125"},[e("div",{class:"h-2 w-2 rounded-full bg-white transition-all"})],-1)),e("div",_e,[e("div",ke,[e("p",Je,l(M(o.type)),1),e("p",Ce,l(h(o.created_at)),1)]),o.changes?(r(),n("div",je,[(r(!0),n(p,null,g(JSON.parse(o.changes),($,f)=>(r(),n("div",{key:f,class:"text-sm grid grid-cols-3 gap-2 py-1"},[e("span",De,l(f)+":",1),e("span",Me,l($),1)]))),128))])):u("",!0)])],8,we))),128))])])):u("",!0),e("div",{class:"text-right p-3"},[e("button",{onClick:N,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700"}," Generate Invoice ")])])]}),_:1}))}},Fe=q(Ne,[["__scopeId","data-v-834213a6"]]);export{Fe as default};
