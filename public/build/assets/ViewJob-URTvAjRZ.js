import{j as a,o,b as e,p as Z,g as p,k as g,i as B,t as n,n as D,y as V,f as u,F as m,q as h,s as x,c as A,x as S}from"./app-DXhGyOzx.js";import{A as H}from"./aos-CKG482gy.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as N}from"./CurrencyDollarIcon-_MFVmX68.js";import{r as z}from"./CheckCircleIcon-CyPdzm8S.js";function $(r,c){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"})])}function U(r,c){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}function F(r,c){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})])}function O(r,c){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})])}const P={class:"bg-white rounded-xl shadow-xl overflow-hidden w-full border border-gray-100 transform transition-all duration-300 hover:shadow-2xl"},T={class:"flex justify-between items-start p-6 border-b border-gray-200 bg-gradient-to-r from-primary/95 to-primary-dark/95","data-aos":"fade-down"},I={class:"text-2xl font-bold text-white"},q={class:"mt-2"},E={class:"p-6 grid grid-cols-1 md:grid-cols-2 gap-8","data-aos":"fade-up","data-aos-delay":"100"},G={class:"space-y-6"},K={class:"space-y-4"},Q={class:"flex justify-between items-center py-2 px-3 rounded-lg hover:bg-gray-50 transition-colors"},R={class:"text-sm text-gray-600"},W={class:"font-medium text-gray-900"},X={class:"space-y-6"},Y={class:"space-y-4"},ee={class:"py-2 px-3 rounded-lg hover:bg-gray-50 transition-colors"},te={class:"font-medium text-gray-900"},se={class:"text-sm text-gray-600 mt-1"},oe={class:"flex items-center space-x-3 py-2 px-3 rounded-lg hover:bg-gray-50 transition-colors"},ae={class:"text-gray-400"},re={class:"text-sm text-gray-600 flex-1"},le={class:"font-medium text-gray-900"},ne={class:"px-6 pb-6","data-aos":"fade-up","data-aos-delay":"200"},ie={class:"bg-gray-50 p-4 rounded-lg border border-gray-100 transition-all duration-300 hover:border-primary/30"},de={class:"whitespace-pre-line text-gray-700"},ce={key:0,class:"border-t border-gray-200 pt-6 px-6 pb-6","data-aos":"fade-up","data-aos-delay":"300"},ue={class:"space-y-6"},me=["data-aos-delay"],he={class:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm hover:shadow-md transition-all"},pe={class:"flex flex-col sm:flex-row sm:items-baseline sm:justify-between gap-2"},ge={class:"text-sm font-medium text-gray-900 capitalize"},ve={class:"text-xs text-gray-500"},we={key:0,class:"mt-3 bg-gray-50 p-3 rounded-lg overflow-hidden transition-all duration-300 max-h-0 group-hover:max-h-96"},be={class:"text-gray-500 col-span-1"},xe={class:"font-medium text-gray-800 col-span-2"},ye={__name:"ViewJob",props:{selectedJob:Object,fullPage:Boolean},emits:["closeModal"],setup(r,{emit:c}){const s=r,y=c;Z(()=>{H.init({once:!0,duration:600,easing:"ease-out-cubic"})});const f=p(()=>({"bg-green-100 text-green-800":s.selectedJob.status==="completed","bg-blue-100 text-blue-800":s.selectedJob.status==="in_progress","bg-yellow-100 text-yellow-800":s.selectedJob.status==="pending","bg-gray-100 text-gray-800":!s.selectedJob.status,"shadow-green-200":s.selectedJob.status==="completed","shadow-blue-200":s.selectedJob.status==="in_progress","shadow-yellow-200":s.selectedJob.status==="pending","shadow-gray-200":!s.selectedJob.status})),_=p(()=>[{label:"Amount",value:k(s.selectedJob.amount),icon:N},{label:"Due Date",value:s.selectedJob.due_date?J(s.selectedJob.due_date):"Not set",icon:$},{label:"Completed",value:s.selectedJob.completed_at?v(s.selectedJob.completed_at):"Not completed",icon:z},{label:"Satisfaction",value:s.selectedJob.satisfaction_score?`${s.selectedJob.satisfaction_score}/5`:"Not rated",icon:O}].filter(l=>l.value!==void 0));p(()=>[{label:"Phone",value:s.selectedJob.customer.phone,icon:F},{label:"Address",value:s.selectedJob.customer.address,icon:U}].filter(l=>l.value));const k=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l),v=l=>new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),J=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),M=l=>l.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),C=()=>{y("closeModal")};return(l,t)=>{var w;return o(),a("div",P,[e("div",T,[e("div",null,[e("h2",I,n(r.selectedJob.job_title),1),e("div",q,[e("span",{class:D([f.value,"text-xs font-medium px-3 py-1 rounded-full shadow-sm transform transition-all hover:scale-105"])},n(r.selectedJob.status),3)])]),B(e("button",{onClick:C,class:"p-2 rounded-full hover:bg-white/20 transition-all duration-200 text-white hover:rotate-90","aria-label":"Close"},t[0]||(t[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),512),[[V,!r.fullPage]])]),e("div",E,[e("div",G,[t[2]||(t[2]=e("h3",{class:"text-sm font-semibold uppercase tracking-wider text-primary-dark flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),u(" Job Details ")],-1)),e("div",K,[(o(!0),a(m,null,h(_.value,(i,d)=>(o(),a("div",{key:d,class:"animate-detail",style:x({"--delay":`${d*50}ms`})},[e("div",Q,[e("span",R,n(i.label),1),e("span",W,n(i.value),1)]),t[1]||(t[1]=e("hr",{class:"border-gray-100"},null,-1))],4))),128))])]),e("div",X,[t[4]||(t[4]=e("h3",{class:"text-sm font-semibold uppercase tracking-wider text-primary-dark flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),u(" Customer ")],-1)),e("div",Y,[e("div",ee,[e("p",te,n(r.selectedJob.customer.name),1),e("p",se,n(r.selectedJob.customer.company),1)]),l.item?(o(!0),a(m,{key:0},h(r.selectedJob.customerDetails,(i,d)=>(o(),a("div",{key:"customer-"+d,class:"animate-detail",style:x({"--delay":`${d*50+100}ms`})},[e("div",oe,[e("div",ae,[(o(),A(S(i.icon),{class:"h-4 w-4"}))]),e("span",re,n(i.label),1),e("span",le,n(i.value),1)]),t[3]||(t[3]=e("hr",{class:"border-gray-100"},null,-1))],4))),128)):g("",!0)])])]),e("div",ne,[t[5]||(t[5]=e("h3",{class:"text-sm font-semibold uppercase tracking-wider text-primary-dark mb-3 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),u(" Description ")],-1)),e("div",ie,[e("p",de,n(r.selectedJob.description||"No description provided"),1)])]),(w=r.selectedJob.activities)!=null&&w.length?(o(),a("div",ce,[t[8]||(t[8]=e("h3",{class:"text-sm font-semibold uppercase tracking-wider text-primary-dark mb-4 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),u(" Activity Log ")],-1)),e("div",ue,[(o(!0),a(m,null,h(r.selectedJob.activities,(i,d)=>(o(),a("div",{key:i.id,class:"relative pl-8 group","data-aos":"fade-up","data-aos-delay":300+d*50},[t[6]||(t[6]=e("div",{class:"absolute left-0 top-1 h-full w-0.5 bg-gray-200 group-hover:bg-primary transition-colors","aria-hidden":"true"},null,-1)),t[7]||(t[7]=e("div",{class:"absolute left-0 top-1 flex h-4 w-4 items-center justify-center rounded-full bg-gray-200 group-hover:bg-primary transition-all transform group-hover:scale-125"},[e("div",{class:"h-2 w-2 rounded-full bg-white transition-all"})],-1)),e("div",he,[e("div",pe,[e("p",ge,n(M(i.type)),1),e("p",ve,n(v(i.created_at)),1)]),i.changes?(o(),a("div",we,[(o(!0),a(m,null,h(JSON.parse(i.changes),(j,b)=>(o(),a("div",{key:b,class:"text-sm grid grid-cols-3 gap-2 py-1"},[e("span",be,n(b)+":",1),e("span",xe,n(j),1)]))),128))])):g("",!0)])],8,me))),128))])])):g("",!0)])}}},Ce=L(ye,[["__scopeId","data-v-af22e059"]]);export{Ce as V,O as r};
