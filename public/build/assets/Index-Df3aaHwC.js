import{_ as $}from"./AuthenticatedLayout-DgHnd84g.js";import{d as C}from"./dayjs.min-WXjqb0z8.js";import{m as v,j as u,o as c,b as t,f as m,k as _,e as B,i as D,t as a,C as P,D as V,E as M,G as z,c as N,w as F,a as x,H,d as w,h as L,F as I,q as j,n as k}from"./app-CAzgmfma.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"bg-primary text-primary-dark px-6 rounded-xl shadow-md text-sm mb-6 pb-3"},A={__name:"InvoiceIndexHeader",props:{invoices:Array},setup(n){const i=n;i.invoices.length,i.invoices.reduce((l,r)=>l+Number(r.total||0),0),i.invoices.filter(l=>l.due_date&&C(l.due_date).isBefore(C(),"day")).length,v(82);function p(){alert("Filter invoices")}function d(){alert("Export invoices")}return(l,r)=>(c(),u("section",U,[t("div",{class:"flex flex-col md:flex-row md:justify-between md:items-center gap-4"},[r[2]||(r[2]=t("div",null,[t("h1",{class:"text-xl font-bold"},"Invoices"),t("p",{class:"text-sm text-secondary mt-1"},"Manage all your invoices, track payments, and monitor statuses")],-1)),t("div",{class:"flex flex-wrap gap-3 text-primary-dark"},[t("button",{onClick:p,class:"flex items-center gap-2 border-2 hover:bg-secondary border-primary px-4 py-2 rounded-lg font-semibold transition"},r[0]||(r[0]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707L15 12v6a1 1 0 01-1.447.894l-4-2A1 1 0 019 16v-4L3.293 6.707A1 1 0 013 6V4z"})],-1),m(" Filter ",-1)])),t("button",{onClick:d,class:"border-2 hover:bg-secondary border-primary flex items-center gap-2 text-primary-dark px-4 py-2 rounded-lg font-semibold transition"},r[1]||(r[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M12 12v8m0-8l-4-4m4 4l4-4"})],-1),m(" Export ",-1)]))])])]))}},E={class:"bg-white rounded-lg shadow-lg w-full max-w-md p-6"},O={class:"text-xl font-semibold text-gray-800 mb-2"},T={class:"text-primary"},J={class:"ml-4 px-2 py-1 text-sm font-medium text-primary-dark rounded-full"},q={__name:"UpdateInvoiceStatus",props:{showModal:Boolean,invoice:Object},emits:["cancel"],setup(n,{emit:i}){const p=n,d=v(""),l=v(""),r=i,g=()=>{d.value="",r("cancel")},y=()=>{d.value&&axios.patch(`/update_invoice/status/${p.invoice.id}`,{selectedStatus:d.value}).then(o=>{o.status===200&&(l.value=o.data.message,M.visit("/dashboard/invoices"))})};return(o,e)=>(c(),u("div",null,[n.showModal?(c(),u("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:B(g,["self"])},[t("div",E,[e[3]||(e[3]=t("h2",{class:"text-lg font-semibold mb-4"},"Update Invoice Status",-1)),m(" "+a(l.value)+"werwe ",1),t("h1",O,[t("span",T,"Invoice #"+a(n.invoice.invoice_number),1),t("div",null,[e[1]||(e[1]=t("span",null,"Status:",-1)),t("span",J,a(n.invoice.status.toUpperCase()),1)])]),D(t("select",{"onUpdate:modelValue":e[0]||(e[0]=h=>d.value=h),class:"w-full border rounded px-3 py-2 mb-4"},e[2]||(e[2]=[V('<option value="" disabled data-v-49d9b37a>Select status</option><option value="paid" data-v-49d9b37a>Paid</option><option value="pending" data-v-49d9b37a>Pending</option><option value="cancelled" data-v-49d9b37a>Cancelled</option><option value="overdue" data-v-49d9b37a>Overdue</option>',5)]),512),[[P,d.value]]),t("div",{class:"flex justify-end gap-3"},[t("button",{onClick:g,class:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300"}," Cancel "),t("button",{onClick:y,class:"px-4 py-2 rounded bg-primary text-white hover:bg-primary-dark"}," Submit ")])])])):_("",!0)]))}},G=S(q,[["__scopeId","data-v-49d9b37a"]]),R={class:"hidden md:block overflow-x-auto rounded-lg shadow"},K={class:"w-full border-collapse bg-white text-left text-sm border-b-2 border-gray-900"},Q={class:"divide-y divide-gray-100"},W={class:"px-6 py-4 font-medium text-gray-900"},X={class:"px-6 py-4 font-medium text-gray-900"},Y={class:"px-6 py-4"},Z={class:"px-6 py-4"},tt={class:"px-6 py-4 font-medium"},et={class:"px-6 py-4"},st={class:"px-6 py-4"},ot={class:"px-6 py-4"},at={class:"flex justify-center space-x-2"},nt=["onClick"],rt=["onClick"],it={class:"mt-4 flex justify-end"},dt={class:"block md:hidden space-y-4"},lt={class:"p-4 border-b border-gray-100 bg-gray-50"},ct={class:"flex justify-between items-start"},ut={class:"font-semibold text-lg text-primary"},pt={class:"text-sm text-gray-500 mt-1"},mt={class:"p-4"},xt={class:"grid grid-cols-2 gap-4 mb-4"},vt={class:"font-medium"},gt={class:"font-medium"},yt={class:"flex justify-between pt-3 border-t border-gray-100"},ht=["onClick"],ft=["onClick"],bt=["onClick"],wt={class:"mt-4 flex justify-center"},kt={__name:"Index",props:{invoices:Array},setup(n){let i=v(!1);const p=o=>({paid:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",overdue:"bg-red-100 text-red-800",draft:"bg-gray-100 text-gray-800"})[o.toLowerCase()]||"bg-gray-100 text-gray-800",d=o=>{if(!o)return"-";const e={year:"numeric",month:"short",day:"numeric"};return new Date(o).toLocaleDateString(void 0,e)},l=o=>{M.visit(`/dashboard/invoice/${o.id}`)};let r=v();const g=o=>{console.log("Download PDF for invoice:",o.id)},y=o=>{r.value=o,i.value=!0,console.log(o)};return(o,e)=>{const h=z("Pagination");return c(),N($,null,{default:F(()=>[x(A,{invoices:n.invoices.data},null,8,["invoices"]),x(G,{invoice:w(r),showModal:w(i),onCancel:e[0]||(e[0]=s=>H(i)?i.value=!1:i=!1)},null,8,["invoice","showModal"]),x(w(L),{title:"Invoices"}),t("div",R,[t("table",K,[e[3]||(e[3]=t("thead",{class:"bg-primary border-b-2 border-gray-600"},[t("tr",null,[t("th",{class:"px-6 py-4 font-semibold text-primary-dark"},"S/N"),t("th",{class:"px-6 py-4 font-semibold text-primary-dark"},"Invoice #"),t("th",{class:"px-6 py-4 font-semibold text-primary-dark"},"Client"),t("th",{class:"px-6 py-4 font-semibold text-primary-dark"},"Status"),t("th",{class:"px-6 py-4 font-semibold text-primary-dark"},"Total"),t("th",{class:"px-6 py-4 font-semibold text-primary-dark"},"Issue Date"),t("th",{class:"px-6 py-4 font-semibold text-primary-dark"},"Due Date"),t("th",{class:"px-6 py-4 font-semibold text-primary-dark text-center"},"Actions")]),t("hr")],-1)),t("tbody",Q,[n.invoices.data.length?(c(!0),u(I,{key:0},j(n.invoices.data,(s,b)=>(c(),u("tr",{key:s.id,class:k([b%2===0?"text-black":"bg-gray-100 text-black","hover:bg-gray-50 transition-colors"])},[t("td",W,a(b+1),1),t("td",X,a(s.invoice_number),1),t("td",Y,a(JSON.parse(s.customer_snapshot).name),1),t("td",Z,[t("span",{class:k([p(s.status),"px-3 py-1 text-xs font-medium rounded-full"])},a(s.status),3)]),t("td",tt,a(s.total)+" "+a(s.currency),1),t("td",et,a(d(s.issue_date)),1),t("td",st,a(d(s.due_date)),1),t("td",ot,[t("div",at,[t("button",{onClick:f=>l(s),class:"text-secondary hover:text-secondary-dark p-1 rounded transition-colors",title:"View Invoice"},e[1]||(e[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,nt),t("button",{onClick:f=>y(s),class:"text-gray-600 hover:text-gray-800 p-1 rounded transition-colors",title:"Update Status"},e[2]||(e[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,rt)])])],2))),128)):_("",!0)])]),t("div",it,[x(h,{meta:n.invoices.meta,onPageChanged:o.fetchInvoices},null,8,["meta","onPageChanged"])])]),t("div",dt,[n.invoices.data.length?(c(!0),u(I,{key:0},j(n.invoices.data,(s,b)=>(c(),u("div",{key:s.id,class:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-100"},[t("div",lt,[t("div",ct,[t("h3",ut,a(s.invoice_number),1),t("span",{class:k([p(s.status),"px-3 py-1 text-xs font-medium rounded-full"])},a(s.status),3)]),t("p",pt,a(d(s.issue_date)),1)]),t("div",mt,[t("div",xt,[t("div",null,[e[4]||(e[4]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Customer",-1)),t("p",vt,a(JSON.parse(s.customer_snapshot).name),1)]),t("div",null,[e[5]||(e[5]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Total",-1)),t("p",gt,a(s.total)+" "+a(s.currency),1)])]),t("div",yt,[t("button",{onClick:f=>l(s),class:"flex items-center text-secondary font-medium text-sm py-2 px-3 rounded-lg hover:bg-secondary hover:text-white transition-colors"},e[6]||(e[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),m(" View ",-1)]),8,ht),t("button",{onClick:f=>g(s),class:"flex items-center text-tertiary font-medium text-sm py-2 px-3 rounded-lg hover:bg-tertiary hover:text-white transition-colors"},e[7]||(e[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),m(" PDF ",-1)]),8,ft),t("button",{onClick:f=>y(s),class:"flex items-center text-gray-600 font-medium text-sm py-2 px-3 rounded-lg hover:bg-gray-200 transition-colors"},e[8]||(e[8]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),m(" Status ",-1)]),8,bt)])])]))),128)):_("",!0),t("div",wt,[x(h,{meta:n.invoices.meta,onPageChanged:o.fetchInvoices},null,8,["meta","onPageChanged"])])])]),_:1})}}},Mt=S(kt,[["__scopeId","data-v-dbdb9961"]]);export{Mt as default};
